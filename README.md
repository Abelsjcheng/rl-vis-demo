# rl-vis-demo

面向知识图谱推理的强化学习可视分析系统<br>
Visual analysis demo system of reinforcement learning for knowledge graph inference

## 简介
### 知识图谱
    知识图谱是一种用图模型来描述客观世界中的概念或事物及其之间关联关系的技术方法。
    知识图谱由节点和边组成。节点可以是实体，如一个人、一本书等，或是抽象的概念，如人工智能、知识图谱等。
    边可以是实体的属性，如姓名、书名，或是实体之间的关系，如朋友、配偶。
### 推理
    推理是通过已有知识推断出未知知识的过程。
### 知识图谱推理
    知识图谱推理是基于知识图谱中已有的事实或关系推断出未知的事实或关系。
    由于现实世界的知识千千万万，想要涵盖所有的知识是很难的，知识图谱面临着不完整性问题。因此需要对知识图谱进行补全。
### 知识图谱补全
    知识图谱补全是知识图谱推理的一个推理任务。
    知识图谱通常用（头实体，关系，尾实体）的三元组形式来表达事物以及事物之间的语义关系。
    因此知识图谱补全的目的是从给定三元组中任意两个元素，试图推理出缺失的另外一个元素，以补全图谱。
## 知识图谱可视化的显示优化
    1. 两点之间多边显示:
        首先根据link的source和target的id属性，对所有边进行分组。然后对两点之间的每条边进行+-标记计数。渲染时两点之间的边使用贝塞尔曲线，并根据每个边的计数，设置贝塞尔曲线的弯曲度。
    2. 自循环边:
        使用path的贝塞尔曲线实现
    3. link文本渲染优化:
        之前显示link文本的方式是使用text.textPath, 好处是文本可以沿着路径排列，但是当渲染长文本时候渲染性能非常差。
        原因猜测：textPath需要与path元素进行绑定，每当path路径发生改变，textpath就需要重新计算文本相对于path的位置，并重新渲染。textPath中每个字母都会以path的路径建立坐标系进行绘制，x轴为path上任意点的切线，y轴是以切点为原点的x轴垂直线。每个字母是一个独立的block。
        现初步优化方法：直接使用text元素显示文本，整个文本是一个block。为了可以沿着link的path路径排列，可以通过计算sourceNode和targetNode之间夹角。用transform：translate() rotate()实现
    4.元素平移动画的初步优化:
        之前实现circle，text平移动画是每次tick迭代中，重新设置元素的x，y。这将导致svg需要重新计算元素的位置（layout），并重绘（paint）。
        优化方法：使用transform：translate()代替x,y来实现平移动画。
            transform：translate在执行元素平移时，会创建合成层，在composite Layers任务中执行。


